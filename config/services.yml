services:

  console.application:
    class: Symfony\Component\Console\Application
    calls:
      - [addCommands, [[@console.commands.list-shows]]]

  console.application.tester:
    class: Symfony\Component\Console\Tester\ApplicationTester
    arguments: [@console.application]

  console.commands.list-shows:
    class: Cjm\ShowGrabber\Console\Command\ListCommand
    arguments: [list-shows, @shows.show-lister]

  shows.show-lister:
    class: Cjm\ShowGrabber\Shows\ShowLister\YamlShowLister
    arguments: [@util.yaml, %config.filename%]

  util.yaml:
    class: Cjm\ShowGrabber\Util\YamlReader
    arguments: [@symfony.yaml]

  symfony.yaml:
    class: Symfony\Component\Yaml\Parser


parameters:

  config.filename: config.yml